<div id="subscribe-popup-overlay" class="newsletter-popup-overlay"></div>
<div id="subscribe-popup" class="newsletter-popup newsletter-popup-modal">
  <button onclick="closeSubscribePopup()" class="newsletter-popup-close" aria-label="Close modal">&times;</button>
  {% include newsletter_widget.html %}
</div>

<style>
/* Modal-specific positioning for subscribe popup */
#subscribe-popup-overlay.newsletter-popup-overlay {
  background: transparent !important;
  pointer-events: none !important;
}

#subscribe-popup .newsletter-popup-close {
  top: 0.75rem;
  right: 0.75rem;
  background: none;
  border: none;
  font-size: 1.5rem;
  line-height: 1;
  cursor: pointer;
  color: #666;
  padding: 0.25rem;
  width: auto;
  height: auto;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  z-index: 1;
  font-weight: 300;
  box-shadow: none;
  border-radius: 0;
}

#subscribe-popup .newsletter-popup-close:hover {
  color: #333;
  transform: scale(1.1);
  background: none;
}

.newsletter-popup-modal {
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  right: auto !important;
  bottom: auto !important;
  transform: translate(-50%, -50%) scale(0.9) !important;
  max-width: 500px !important;
  width: 90% !important;
  max-height: 85vh !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
  border-radius: 12px !important;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3) !important;
  background: white !important;
}

.newsletter-popup-modal.show {
  transform: translate(-50%, -50%) scale(1) !important;
}

@media (max-width: 768px) {
  .newsletter-popup-modal {
    width: 95% !important;
    max-width: 95% !important;
    max-height: 85vh !important;
    border-radius: 8px !important;
  }

  #subscribe-popup-overlay.newsletter-popup-overlay {
    background: rgba(0, 0, 0, 0.5) !important;
    pointer-events: auto !important;
  }
}
</style>

<script>
// Reuse existing generic popup functions - DRY principle
function showSubscribePopup() {
  // Use generic popup function for subscribe popup
  showPopup('subscribe-popup', 'subscribe-popup-overlay');
}

function closeSubscribePopup() {
  // Use generic popup close function
  closePopup('subscribe-popup', 'subscribe-popup-overlay');
}
</script>